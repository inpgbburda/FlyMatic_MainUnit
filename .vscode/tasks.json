{
   "version": "2.0.0",
   "tasks": [
      {
         "type": "shell",
         "label": "Generate CMake for RASP TYPE=Release",
         "command": "cmake -B ../Builds/ -D_RASP=ON -DCMAKE_BUILD_TYPE=Release",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/SW_components"
         },
         "group": {
            "kind": "build",
            "isDefault": true
         }
      },
      {
         "type": "shell",
         "label": "Generate CMake for RASP TYPE=Debug",
         "command": "cmake -B ../Builds/ -D_RASP=ON -DCMAKE_BUILD_TYPE=Debug",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/SW_components"
         },
         "group": {
            "kind": "build",
            "isDefault": true
         }
      },
      {
         "type": "shell",
         "label": "Generate CMake for PC",
         "command": "cmake -B ../Builds/ -D_RASP=OFF",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/SW_components"
         },
         "group": {
            "kind": "test",
            "isDefault": true
         }
      },
      {
         "type": "shell",
         "label": "Build",
         "command": "make",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Builds"
         },
         "problemMatcher": {
            "base": "$gcc",
            "fileLocation": [
               "${workspaceFolder}/Builds"
            ]
         },
         "group": "build"
      },
      {
         "type": "shell",
         "label": "Clean",
         "command": "make clean",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Builds"
         },
         "problemMatcher": {
            "base": "$gcc",
            "fileLocation": [
               "${workspaceFolder}/Builds"
            ]
         },
         "group": "build"
      },
      {
         "type": "shell",
         "label": "Generate CMake tests",
         "command": "cmake -B Builds/",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Testing"
         },
         "group": {
            "kind": "test",
            "isDefault": true
         }
      },
      {
         "type": "shell",
         "label": "Build tests",
         "command": "make",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Testing/Builds"
         },
         "group": {
            "kind": "test",
            "isDefault": true
         },
         "problemMatcher": {
            "base": "$gcc",
            "fileLocation": [
               "${workspaceFolder}/Testing/Builds"
            ]
         },
      },
      {
         "type": "shell",
         "label": "Run tests",
         "command": "./tests",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Testing/Builds"
         },
         "group": {
            "kind": "test",
            "isDefault": true
         }
      },

      {
         "type": "shell",
         "label": "Run App",
         "command": "sudo ./DroneExec",
         "args": [],
         "options": {
            "cwd": "${workspaceFolder}/Builds"
         },
         "group": {
            "kind": "test",
            "isDefault": true
         }
      },
      /*Unit tests*/
        {
            "type": "shell",
            "label": "Build MPU6050 Unit Tests",
            "command": "bash",
            "args": ["-c", "make all 2>&1 | sed 's|/cygdrive/d/|D:/|g; s|${workspaceFolder}/|./|g'"],
            "options": {
                "cwd": "${workspaceFolder}/SW_components/03_IoHwab/mpu6050/mpu6050_UT/builds_UT"
            },
            "problemMatcher": {
                "owner": "external",
                "fileLocation": "absolute",
                "pattern": {
                    "regexp": "^(.*):(\\d+):(\\d+):\\s(.*)$",
                    "file": 1,
                    "line": 2,
                    "column": 3,
                    "message": 4
                },
            }
        },
        {
            "type": "shell",
            "label": "Clean MPU6050 Unit Tests",
            "command": "make clean",
            "args": [],
            "options": {
                "cwd": "${workspaceFolder}/SW_components/03_IoHwab/mpu6050/mpu6050_UT/builds_UT"
            },
        },
        {
            "type": "shell",
            "label": "Run MPU6050 Unit Tests",
            "command": "mpu6050_UT.exe",
            "args": [],
            "options": {
                "cwd": "${workspaceFolder}/SW_components/03_IoHwab/mpu6050/mpu6050_UT/builds_UT"
            },
        }
   ]
}